<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button [defaultHref]="'/home/tabs/notes/'"></ion-back-button>
        </ion-buttons>
        <ion-title>
            {{ isLoading ? 'Loading...' : note?.lessonTitle}}
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content
    class="ion-padding"
    class="ion-text-center"
>
    <div *ngIf="isLoading">
        <ion-spinner color="primary"></ion-spinner>
    </div>
    <ion-grid>
        <form
            *ngIf="!isLoading"
            (ngSubmit)="onUpdateNote()"
            #f="ngForm"
        >
            <ion-grid>
                <ion-row>
                    <ion-col
                        size-sm="6"
                        offset-sm="3"
                    >
                        <ion-item>
                            <ion-input
                                type="text"
                                readonly
                                name="lessonId"
                            >
                                {{note.lessonId}}
                            </ion-input>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col
                        size-sm="6"
                        offset-sm="3"
                    >
                        <ion-item>
                            <ion-input
                                type="text"
                                readonly
                                name="title"
                            >
                                {{note.lessonTitle}}
                            </ion-input>
                        </ion-item>
                    </ion-col>
                </ion-row>

                <ion-row>
                    <ion-col
                        size-sm="6"
                        offset-sm="3"
                    >
                        <ion-item>
                            <ion-label position="floating">Edit note...</ion-label>
                            <ion-textarea
                                [(ngModel)]="note.note"
                                name="note"
                                autocomplete
                                autocorrect
                                rows="5"
                                required
                            ></ion-textarea>
                        </ion-item>
                    </ion-col>
                </ion-row>

                <ion-row>
                    <ion-col
                        size-sm="6"
                        offset-sm="3"
                    >
                        <ion-label>
                            Created on {{note.createdOn | date:'dd MMM yyyy'}}
                        </ion-label>
                    </ion-col>
                </ion-row>

                <ion-row>
                    <ion-col
                        size-sm="6"
                        offset-sm="3"
                    >
                        <ion-button
                            type="submit"
                            color="primary"
                            expand="block"
                            [disabled]="!f.valid"
                        >
                            Save Note
                        </ion-button>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </form>

    </ion-grid>
</ion-content>
